# ORG_08_PRODUCTION_OPS.yaml

meta:
  owner: "AI Opener"
  version: "2.0.0"
  last_updated: "2026-01-08"
  purpose: "ORG default production operations (content + visuals)"
  notes: "ORG default production ops for visual + content. CLIENT may override stakeholders/SLAs. SSOT stores no images; only pointers + metadata."
  tags: [org, ssot, ops]

approval_matrix:
  description: "Default approval ownership and review steps for production deliverables. CLIENT overlays may override roles and SLAs."
  items:
    - deliverable: "ORG visual system changes (ORG_06_VISUAL_SYSTEM)"
      approver_role: "Brand Owner (ORG)"
      reviewer_roles: ["Marketing Lead (ORG)"]
      sla_hours: 48
      notes: "Any change to ORG Visual DNA baseline requires brand owner approval."
    - deliverable: "Client visual overlay changes (CLIENT visual YAML)"
      approver_role: "Client Brand Owner"
      reviewer_roles: ["Account Lead", "Marketing Lead (ORG)"]
      sla_hours: 48
      notes: "Only applies when a CLIENT context is active; changes must remain a patch on top of ORG."
    - deliverable: "Image Prompt Package (campaign asset)"
      approver_role: "Marketing Lead (ORG)"
      reviewer_roles: ["Designer/Creative"]
      sla_hours: 24
      notes: "Prompt package must be Nano-Banana-ready; reference assets are pointers only."
    - deliverable: "External reference set update (refset_id)"
      approver_role: "Brand Owner (ORG)"
      reviewer_roles: ["Designer/Creative"]
      sla_hours: 24
      notes: "Refsets live outside SSOT; SSOT stores only refset_id/URL + notes + rights."

definition_of_done:
  description: "Definition of Done per deliverable. Applies in ORG-only mode and with optional CLIENT overlays."
  by_deliverable:
    - deliverable: "image_prompt_package"
      must_include:
        - "effective_visual_dna_ref"
        - "creative_brief"
        - "prompt"
        - "negative_prompt"
        - "refs_used (may be empty)"
        - "params (may use defaults)"
        - "qa_check (pass/fail + failed_items)"
      must_not_include:
        - "embedded images"
        - "base64 blobs"
        - "binary attachments"
      qa_required: true
      output_format: "code_block"
      logging_required:
        - "prompt_package_hash"
        - "effective_visual_dna_ref"
        - "refset_ids"
        - "params"
        - "timestamp"
    - deliverable: "visual_dna_capture"
      must_include:
        - "dna_caption"
        - "style_keywords"
        - "palette rules (named + hex + usage + forbidden)"
        - "composition"
        - "lighting"
        - "textures_materials"
        - "backgrounds"
        - "do_dont"
        - "negative_prompts"
        - "external_reference_sets (optional pointers only)"
      must_not_include:
        - "embedded images"
        - "base64 blobs"
      qa_required: true
      output_format: "code_block"
      logging_required:
        - "effective_visual_dna_ref"
        - "refset_ids"
        - "timestamp"
      notes: "Unknowns must be explicitly set to 'TBD' so it remains fillable and actionable."
    - deliverable: "refset_update_request"
      must_include:
        - "refset_id"
        - "what_to_add"
        - "what_to_remove"
        - "what_to_copy"
        - "what_not_to_copy"
        - "rights_note"
      must_not_include:
        - "image attachments"
        - "embedded images"
        - "base64 blobs"
      qa_required: true
      output_format: "code_block"
      logging_required:
        - "refset_id"
        - "timestamp"

revision_policy:
  description: "Default iteration rules to keep cycles tight and improvements trackable."
  notes:
    - "Max 2 revision rounds per asset unless explicitly escalated."
    - "Per revision round change only 1â€“2 variables (e.g., composition OR lighting OR palette emphasis)."
    - "Always log: what changed, why, and what the expected impact is."
    - "If QA fails twice: escalate to human reviewer for decision and/or refset adjustment."
    - "If repeated failures occur, convert the feedback into an ORG/CLIENT Visual DNA rule update or a refset update request."
